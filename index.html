<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>SMS platÄƒ parcare Cluj</title>
    <meta name="theme-color" content="#4F46E5">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="css/style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="icon" type="image/png" href="icon.png">
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js');
            });
        }
    </script>
</head>
<body>

<div id="app">
    <header>
        <h1><span class="header-icon">ðŸ’¬</span> <span class="text-gradient">SMS Parcare Cluj</span></h1>
        <div id="status-dot"></div>
    </header>

    <div class="card control-group">
        <label class="label">Configurare</label>
        
        <!-- Zone Selector -->
        <div class="zone-selector">
            <button class="zone-btn" data-zone="I" onclick="setZone('I')">Zona I</button>
            <button class="zone-btn" data-zone="II" onclick="setZone('II')">Zona II</button>
        </div>

        <!-- Duration Grid -->
        <div id="duration-grid" class="duration-grid">
            <!-- JS populated -->
        </div>
    </div>

    <!-- Plate Section -->
    <div style="display: flex; flex-direction: column;">
        <div class="card" style="border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; z-index: 2;">
            <label class="label">NumÄƒr ÃŽnmatriculare</label>
            <div class="plate-container">
                <input type="text" id="plate-input" placeholder="CJ 99 ABC" maxlength="12" autocomplete="off" spellcheck="false">
                <div class="saved-badge" onclick="toggleHistory()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 9l-7 7-7-7"/></svg>
                </div>
            </div>
        </div>
        <div id="history-drawer">
            <!-- JS populated -->
        </div>
    </div>

    <!-- Live Preview / Summary -->
    <div class="card summary-card">
        <div class="summary-row">
            <span class="summary-label">SMS cÄƒtre 7480</span>
            <span class="code-pill" id="sms-code-disp">403</span>
        </div>
        <div class="summary-row" style="margin-top: 8px;">
            <span class="summary-label">PreÈ› Total</span>
            <span class="summary-value" id="price-disp">4 lei</span>
        </div>
        <div style="font-family: monospace; font-size: 13px; opacity: 0.7; margin-top: 4px; text-align: right;">
            Mesaj: <span id="msg-preview">403 CJ99ABC</span>
        </div>
    </div>

    <!-- Actions -->
    <div>
        <a id="send-btn" href="#" class="primary-btn disabled">
            <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/></svg>
            Trimite SMS
        </a>
        <div class="legal-text">
            PlÄƒteÈ™te Ã®nainte sau Ã®n max 5 min de la parcare.<br>
            <a href="https://ovidiuchis.ro" target="_blank" class="credits-link">by ovidiuchis.ro</a>
        </div>
    </div>

        <button id="install-btn" class="sec-btn" onclick="installApp()" style="display: none; grid-column: span 2; background: var(--bg-gradient); border-color: var(--primary);">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg>
            InstaleazÄƒ AplicaÈ›ia
        </button>
        <div id="ios-hint" style="display: none; grid-column: span 2; text-align: center; font-size: 13px; color: var(--text-muted); background: var(--card-bg); padding: 12px; border-radius: 12px; border: 1px solid var(--border);">
            Pentru a instala pe iPhone:<br>
            ApasÄƒ <span style="font-size: 16px;">âŽ‹</span> (Share) apoi <strong>Add to Home Screen</strong>
        </div>
    </div>
</div>

<div id="toast" class="toast">Copiat!</div>

<!-- Scripts -->
<script src="js/data.js"></script>
<script src="js/app.js"></script>
</body>
</html>
